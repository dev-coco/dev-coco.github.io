
<!DOCTYPE html>
<html lang="en">
<head>
    <title>HTML password protect</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="keywords" content="dev-coco, HTML Encrypted, HTML Password, HTML Protect"/>
    <meta name="robots" content="index,follow"/>
    <meta name="description" content="Generate HTML password protected static pages."/>
    <link rel="icon" href="https://dev-coco.github.io/images/WebIcon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <style>img{width:58px;}div.menu{background-color:#f5f5f5;}div.menu a{display:inline-block;color:black;text-align:center;padding:14px;text-decoration:none;}div.menu a:hover{background-color:#777;}</style>
<script src="https://cdn.ckeditor.com/4.14.0/full-all/ckeditor.js"></script>
                <style>.center{margin: 0 auto;width: 100%;}textarea{width: 97%;height: 130px;}</style>
</head>
<body>
    <div class="container">
<h1><img alt="dev-coco" src="https://dev-coco.github.io/images/WebIcon.png"> Dev-Coco</h1>
<div class="menu">
  <a href="https://dev-coco.github.io/">Home</a>
  <a href="https://dev-coco.github.io/blog">Blog</a>
  <a href="https://dev-coco.github.io/Featured-Software.html">Featured Software</a>
  <a href="https://dev-coco.github.io/Online-Tools">Online Tools</a>
  <a target="_blank" href="https://github.com/dev-coco">Github</a>
</div>
    <div style="text-align:center;">
        </br><label for="password">Password</label>
        <input style="width:40%;" type="password" id="password" placeholder="">
        </br>
       <label for="unencrypted_html">HTML Code</label>
        </br>
        <textarea style="width:100%;height:300px;" id="unencrypted_html" placeholder="" rows="5"></textarea>
        <form id="encrypt_form">
            <button style="padding:7px 22px;font-size:16px" type="submit">Generate password protected HTML</button>
        </form>
        <p><a class="btn btn-success download" download="encrypted.html" id="download-link" disabled="disabled">Download encrypted HTML</a>
        </p>
        <textarea style="width:100%;" id="encrypted_html_display"></textarea>
    </div>
    <script src="encryption.js"></script>
    <script>
        var htmlToDownload,renderTemplate=function(e,t){return e.replace(/{(.*?)}/g,function(e,o){return t&&t[o]||""})},setFileToDownload=function(e){var t=new XMLHttpRequest;t.open("GET","password_template.html",!0),t.onload=function(){var o=renderTemplate(t.responseText,e),n=document.querySelector("a.download");n.href="data:text/html,"+encodeURIComponent(o),n.removeAttribute("disabled"),htmlToDownload=o},t.send()},setFileToDownloadWithEmbeddedCrypto=function(e){var t=new XMLHttpRequest;t.open("GET","encryption.js",!0),t.onload=function(){e.crypto_tag="<script>"+t.responseText+"<\/script>",setFileToDownload(e)},t.send()},keySize=256,iterations=1e3;function encrypt(e,t){var o=CryptoJS.lib.WordArray.random(16),n=CryptoJS.PBKDF2(t,o,{keySize:keySize/32,iterations:iterations}),r=CryptoJS.lib.WordArray.random(16),d=CryptoJS.AES.encrypt(e,n,{iv:r,padding:CryptoJS.pad.Pkcs7,mode:CryptoJS.mode.CBC});return o.toString()+r.toString()+d.toString()}document.getElementById("encrypt_form").addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("unencrypted_html").value,o=document.getElementById("password").value,n=encrypt(t,o),r=CryptoJS.HmacSHA256(n,CryptoJS.SHA256(o).toString()).toString()+n,d={encrypted:r};document.getElementById("encrypted_html_display").textContent=r,document.getElementById("embed-crypto"),setFileToDownloadWithEmbeddedCrypto(d),setFileToDownload(d)});
    </script>
</div>
</body>
</html>
